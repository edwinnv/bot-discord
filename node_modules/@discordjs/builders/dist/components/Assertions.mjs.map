{"version":3,"file":"Assertions.mjs","sources":["../../src/components/Assertions.ts"],"sourcesContent":["import { s } from '@sapphire/shapeshift';\nimport { APIMessageComponentEmoji, ButtonStyle } from 'discord-api-types/v10';\nimport { SelectMenuOptionBuilder } from './selectMenu/SelectMenuOption';\nimport { isValidationEnabled } from '../util/validation';\n\nexport const customIdValidator = s.string\n\t.lengthGreaterThanOrEqual(1)\n\t.lengthLessThanOrEqual(100)\n\t.setValidationEnabled(isValidationEnabled);\n\nexport const emojiValidator = s\n\t.object({\n\t\tid: s.string,\n\t\tname: s.string,\n\t\tanimated: s.boolean,\n\t})\n\t.partial.strict.setValidationEnabled(isValidationEnabled);\n\nexport const disabledValidator = s.boolean;\n\nexport const buttonLabelValidator = s.string\n\t.lengthGreaterThanOrEqual(1)\n\t.lengthLessThanOrEqual(80)\n\t.setValidationEnabled(isValidationEnabled);\n\nexport const buttonStyleValidator = s.nativeEnum(ButtonStyle);\n\nexport const placeholderValidator = s.string.lengthLessThanOrEqual(150).setValidationEnabled(isValidationEnabled);\nexport const minMaxValidator = s.number.int\n\t.greaterThanOrEqual(0)\n\t.lessThanOrEqual(25)\n\t.setValidationEnabled(isValidationEnabled);\n\nexport const labelValueDescriptionValidator = s.string\n\t.lengthGreaterThanOrEqual(1)\n\t.lengthLessThanOrEqual(100)\n\t.setValidationEnabled(isValidationEnabled);\n\nexport const jsonOptionValidator = s\n\t.object({\n\t\tlabel: labelValueDescriptionValidator,\n\t\tvalue: labelValueDescriptionValidator,\n\t\tdescription: labelValueDescriptionValidator.optional,\n\t\temoji: emojiValidator.optional,\n\t\tdefault: s.boolean.optional,\n\t})\n\t.setValidationEnabled(isValidationEnabled);\n\nexport const optionValidator = s.instance(SelectMenuOptionBuilder).setValidationEnabled(isValidationEnabled);\n\nexport const optionsValidator = optionValidator.array\n\t.lengthGreaterThanOrEqual(0)\n\t.setValidationEnabled(isValidationEnabled);\nexport const optionsLengthValidator = s.number.int\n\t.greaterThanOrEqual(0)\n\t.lessThanOrEqual(25)\n\t.setValidationEnabled(isValidationEnabled);\n\nexport function validateRequiredSelectMenuParameters(options: SelectMenuOptionBuilder[], customId?: string) {\n\tcustomIdValidator.parse(customId);\n\toptionsValidator.parse(options);\n}\n\nexport const defaultValidator = s.boolean;\n\nexport function validateRequiredSelectMenuOptionParameters(label?: string, value?: string) {\n\tlabelValueDescriptionValidator.parse(label);\n\tlabelValueDescriptionValidator.parse(value);\n}\n\nexport const urlValidator = s.string\n\t.url({\n\t\tallowedProtocols: ['http:', 'https:', 'discord:'],\n\t})\n\t.setValidationEnabled(isValidationEnabled);\n\nexport function validateRequiredButtonParameters(\n\tstyle?: ButtonStyle,\n\tlabel?: string,\n\temoji?: APIMessageComponentEmoji,\n\tcustomId?: string,\n\turl?: string,\n) {\n\tif (url && customId) {\n\t\tthrow new RangeError('URL and custom id are mutually exclusive');\n\t}\n\n\tif (!label && !emoji) {\n\t\tthrow new RangeError('Buttons must have a label and/or an emoji');\n\t}\n\n\tif (style === ButtonStyle.Link) {\n\t\tif (!url) {\n\t\t\tthrow new RangeError('Link buttons must have a url');\n\t\t}\n\t} else if (url) {\n\t\tthrow new RangeError('Non-link buttons cannot have a url');\n\t}\n}\n"],"names":[],"mappings":"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"}