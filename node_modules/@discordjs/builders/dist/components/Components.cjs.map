{"version":3,"file":"Components.cjs","sources":["../../src/components/Components.ts"],"sourcesContent":["import { APIMessageComponent, APIModalComponent, ComponentType } from 'discord-api-types/v10';\nimport {\n\tActionRowBuilder,\n\ttype AnyComponentBuilder,\n\ttype MessageComponentBuilder,\n\ttype ModalComponentBuilder,\n} from './ActionRow';\nimport { ComponentBuilder } from './Component';\nimport { ButtonBuilder } from './button/Button';\nimport { SelectMenuBuilder } from './selectMenu/SelectMenu';\nimport { TextInputBuilder } from './textInput/TextInput';\n\nexport interface MappedComponentTypes {\n\t[ComponentType.ActionRow]: ActionRowBuilder<AnyComponentBuilder>;\n\t[ComponentType.Button]: ButtonBuilder;\n\t[ComponentType.SelectMenu]: SelectMenuBuilder;\n\t[ComponentType.TextInput]: TextInputBuilder;\n}\n\n/**\n * Factory for creating components from API data\n *\n * @param data - The api data to transform to a component class\n */\nexport function createComponentBuilder<T extends keyof MappedComponentTypes>(\n\tdata: (APIMessageComponent | APIModalComponent) & { type: T },\n): MappedComponentTypes[T];\nexport function createComponentBuilder<C extends MessageComponentBuilder | ModalComponentBuilder>(data: C): C;\nexport function createComponentBuilder(\n\tdata: APIMessageComponent | APIModalComponent | MessageComponentBuilder,\n): ComponentBuilder {\n\tif (data instanceof ComponentBuilder) {\n\t\treturn data;\n\t}\n\n\tswitch (data.type) {\n\t\tcase ComponentType.ActionRow:\n\t\t\treturn new ActionRowBuilder(data);\n\t\tcase ComponentType.Button:\n\t\t\treturn new ButtonBuilder(data);\n\t\tcase ComponentType.SelectMenu:\n\t\t\treturn new SelectMenuBuilder(data);\n\t\tcase ComponentType.TextInput:\n\t\t\treturn new TextInputBuilder(data);\n\t\tdefault:\n\t\t\t// @ts-expect-error\n\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\tthrow new Error(`Cannot properly serialize component type: ${data.type}`);\n\t}\n}\n"],"names":["ComponentBuilder","ComponentType","ActionRowBuilder","ButtonBuilder","SelectMenuBuilder","TextInputBuilder"],"mappings":";;;;;;;;;;;AAQO,SAAS,sBAAsB,CAAC,IAAI,EAAE;AAC7C,EAAE,IAAI,IAAI,YAAYA,0BAAgB,EAAE;AACxC,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG;AACH,EAAE,QAAQ,IAAI,CAAC,IAAI;AACnB,IAAI,KAAKC,iBAAa,CAAC,SAAS;AAChC,MAAM,OAAO,IAAIC,0BAAgB,CAAC,IAAI,CAAC,CAAC;AACxC,IAAI,KAAKD,iBAAa,CAAC,MAAM;AAC7B,MAAM,OAAO,IAAIE,oBAAa,CAAC,IAAI,CAAC,CAAC;AACrC,IAAI,KAAKF,iBAAa,CAAC,UAAU;AACjC,MAAM,OAAO,IAAIG,4BAAiB,CAAC,IAAI,CAAC,CAAC;AACzC,IAAI,KAAKH,iBAAa,CAAC,SAAS;AAChC,MAAM,OAAO,IAAII,0BAAgB,CAAC,IAAI,CAAC,CAAC;AACxC,IAAI;AACJ,MAAM,MAAM,IAAI,KAAK,CAAC,CAAC,0CAA0C,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAChF,GAAG;AACH;;;;"}